((self||this).webpackJsonp=(self||this).webpackJsonp||[]).push([[1],{101:function(n,e,t){"use strict";t.d(e,"g",function(){return g}),t.d(e,"f",function(){return v}),t.d(e,"b",function(){return P}),t.d(e,"d",function(){return I}),t.d(e,"a",function(){return b}),t.d(e,"e",function(){return E}),t.d(e,"c",function(){return S});var r,i=t(10),a=t.n(i),o=t(38),u=t.n(o),s=t(62),p=t.n(s),c=t(94),l=t(52),d=function(){return"true"===localStorage.getItem("integrationTest")},f=function(){var n=p()(u.a.mark(function n(){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.all([t.e(16),t.e(7)]).then(t.bind(null,1435)).then(function(n){return n.default}));case 1:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),m=function(){var n=p()(u.a.mark(function n(){var e;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d()){n.next=2;break}return n.abrupt("return");case 2:if(!r){n.next=4;break}return n.abrupt("return",r);case 4:return n.next=6,f();case 6:return(e=n.sent).apps.length<1&&e.initializeApp(window.__firestore.config),n.abrupt("return",e.auth().signInWithCustomToken(window.__firestore.token).then(function(){return e.firestore().settings({}),r=e.firestore()}));case 9:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),T=function(){var n=p()(u.a.mark(function n(e){var t;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m();case 2:return t=n.sent,n.abrupt("return",t.doc("users/".concat(e.hashid)));case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),y=function(n,e){return a()({__typename:l.a.USER,id:n.hashid,featureNotifications:[]},e)},g=function(){var n=p()(u.a.mark(function n(e,t){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d()){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,T(e);case 4:n.sent.onSnapshot(function(n){t(y(e,n.data()))});case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}(),v=function(){var n=p()(u.a.mark(function n(e,t){var r;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d()){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,m();case 4:return r=n.sent,n.abrupt("return",r.collection("users/".concat(e.hashid,"/pins")).onSnapshot(function(n){var e=[];n.forEach(function(n){var t=n.data();e.push(a()({},t))}),t(e)}));case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}(),O=function(){var n=p()(u.a.mark(function n(e,t){var r;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m();case 2:return r=n.sent,n.abrupt("return",r.doc("users/".concat(e.hashid,"/pins/").concat(t)));case 4:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}(),P=function(){var n=p()(u.a.mark(function n(e,t){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d()){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,O(e,t.id);case 4:n.sent.set(t);case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}(),I=function(){var n=p()(u.a.mark(function n(e,t){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d()){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,O(e,t);case 4:n.sent.delete();case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}(),b=function(){var n=p()(u.a.mark(function n(e,t){var r,i;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d()){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,T(e);case 4:return r=n.sent,n.next=7,f();case 7:i=n.sent,r.set({__typename:l.a.USER,id:e.hashid,featureNotifications:i.firestore.FieldValue.arrayUnion(t),updatedAt:Object(c.c)()},{merge:!0});case 9:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}(),h=function(){var n=p()(u.a.mark(function n(e){var t;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m();case 2:return t=n.sent,n.abrupt("return",t.doc("items/".concat(e)));case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),w=function(n,e,t){if("string"!=typeof n)throw"Invalid ID ".concat(n);if("string"!=typeof e)throw"Invalid ID ".concat(e);if(""===n||""===e)throw"Invalid values: ".concat(n,", ").concat(e);if(0===Object.keys(t).length)throw"Invalid attributes"},C=function(n,e,t){return r=a()({},t,{id:n,ownerId:e,updatedAt:Object(c.c)()}),JSON.parse(JSON.stringify(r));var r},E=function(){var n=p()(u.a.mark(function n(e,t,r){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:if(!d()){n.next=4;break}return n.abrupt("return");case 4:f().then(p()(u.a.mark(function n(){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return w(e,t,r),n.next=3,h(e);case 3:n.sent.set(C(e,t,r),{merge:!0});case 5:case"end":return n.stop()}},n)})));case 5:case"end":return n.stop()}},n)}));return function(e,t,r){return n.apply(this,arguments)}}(),_=function(){var n=p()(u.a.mark(function n(e,t){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d()){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,h(e);case 4:n.sent.onSnapshot(function(n){t(n.data())});case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}(),S=function(){var n=p()(u.a.mark(function n(){var e,t;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d()){n.next=2;break}return n.abrupt("return",{enabled:!1});case 2:return n.next=4,m();case 4:return e=n.sent,n.next=7,e.doc("analytics/heap").get();case 7:if(!(t=n.sent).exists){n.next=10;break}return n.abrupt("return",t.data());case 10:return n.abrupt("return",{enabled:!1});case 11:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();window.firestoreConnect={onItemChanges:_,setItemAttributes:E};var k,N=window.__rtData,D=null;window.CPFirebase={auth:function(n){k?n():f().then(function(e){e.apps.length<1&&e.initializeApp(window.__firestore.config),window.firebase=e,e.auth().signInWithCustomToken(window.__firestore.token).then(function(){k=e.database(),D=k.ref(),n()}).catch(function(n){console.log(n)})})},getFirebase:f,getRef:function(n){return D.child(N.roomID+"/"+n)}}},13:function(n,e,t){"use strict";var r=t(22),i=t.n(r),a=t(0),o=t.n(a),u=t(2),s=t.n(u),p=t(1),c=t.n(p),l=function(n){var e=n.icon,t=n.refLink,r=n.width,a=n.height,u=n.className,p=void 0===u?"":u;if(e){p=p+" icon icon-"+e;var c=t?"#"+t:"#"+e,l={};return r&&(l.width=r),a&&(l.height=a),s.a.createElement("svg",i()({},l,{className:p}),o()("use",{xlinkHref:c}))}return null};l.propTypes={icon:c.a.string.isRequired,refLink:c.a.string,className:c.a.string,width:c.a.string,height:c.a.string},e.a=l},163:function(n,e,t){"use strict";t.d(e,"b",function(){return o}),t.d(e,"a",function(){return u});var r=t(8),i=t.n(r),a=t(94),o={TOPICS:"TOPICS"},u=i()({},o.TOPICS,{value:o.TOPICS,showUntil:Object(a.a)(2019,5,15)})},21:function(n,e,t){"use strict";t.d(e,"a",function(){return r}),t.d(e,"b",function(){return i});var r={PEN:"PEN",PROJECT:"PROJECT",POST:"POST",COLLECTION:"COLLECTION"},i={PEN:"pen",EDITOR:"editor",FULL:"full",DETAILS:"details",DEBUG:"debug",LIVE:"live",COLLAB:"collab",PRESENTATION:"pres",PROFESSOR:"professor"}},24:function(n,e,t){"use strict";(function(n){var r=t(0),i=t.n(r),a=t(11),o=t.n(a),u=t(2),s=t.n(u),p=t(1),c=t.n(p),l=t(46),d=t(12),f=t.n(d),m=t(56),T=t(75);function y(){var n=o()(["\n  mutation OpenModal($input: PopupsOpenModalInput!) {\n    popupsOpenModal(input: $input) @client\n  }\n"]);return y=function(){return n},n}var g=f()(y()),v=function(e){return s.a.createElement(l.c,e,function(t,r){var a=r.error;return a?(function(e){console.error(e),"development"!==n.env.ENV&&Object(m.b)(e)}(a),e.errorHandler&&e.errorHandler(),e.errorRender?e.errorRender:e.showModalOnError?i()(l.c,{mutation:g},void 0,function(n){return i()(T.a,{openModal:n,type:"MUTATION"})}):null):e.children(t,r)})};v.propTypes={children:c.a.oneOfType([c.a.node,c.a.func]),errorHandler:c.a.func,showModalOnError:c.a.bool,errorRender:c.a.func},e.a=v}).call(this,t(70))},254:function(n){n.exports={__schema:{types:[{kind:"SCALAR",name:"Boolean",possibleTypes:[]},{kind:"SCALAR",name:"String",possibleTypes:[]},{kind:"OBJECT",name:"Query",possibleTypes:[]},{kind:"INTERFACE",name:"Item",possibleTypes:[{name:"Collection"},{name:"Pen"},{name:"Post"},{name:"Project"}]},{kind:"SCALAR",name:"ID",possibleTypes:[]},{kind:"ENUM",name:"ItemEnum",possibleTypes:[]},{kind:"SCALAR",name:"Int",possibleTypes:[]},{kind:"INTERFACE",name:"Owner",possibleTypes:[{name:"Team"},{name:"User"}]},{kind:"OBJECT",name:"Team",possibleTypes:[]},{kind:"INTERFACE",name:"SessionContext",possibleTypes:[{name:"Team"},{name:"User"}]},{kind:"ENUM",name:"ContextEnum",possibleTypes:[]},{kind:"OBJECT",name:"PaginatedPens",possibleTypes:[]},{kind:"OBJECT",name:"PageInfo",possibleTypes:[]},{kind:"OBJECT",name:"Pen",possibleTypes:[]},{kind:"OBJECT",name:"PenUrls",possibleTypes:[]},{kind:"OBJECT",name:"ScreenshotUrls",possibleTypes:[]},{kind:"INPUT_OBJECT",name:"PensInput",possibleTypes:[]},{kind:"INPUT_OBJECT",name:"PaginationInput",possibleTypes:[]},{kind:"ENUM",name:"SortByEnum",possibleTypes:[]},{kind:"ENUM",name:"SortOrderEnum",possibleTypes:[]},{kind:"INPUT_OBJECT",name:"PensFiltersInput",possibleTypes:[]},{kind:"ENUM",name:"PrivacyEnum",possibleTypes:[]},{kind:"OBJECT",name:"PaginatedCollections",possibleTypes:[]},{kind:"OBJECT",name:"Collection",possibleTypes:[]},{kind:"OBJECT",name:"CollectionUrls",possibleTypes:[]},{kind:"INPUT_OBJECT",name:"CollectionsInput",possibleTypes:[]},{kind:"INPUT_OBJECT",name:"PaginatedItemsFiltersInput",possibleTypes:[]},{kind:"OBJECT",name:"Post",possibleTypes:[]},{kind:"OBJECT",name:"PaginatedProjects",possibleTypes:[]},{kind:"OBJECT",name:"Project",possibleTypes:[]},{kind:"OBJECT",name:"ProjectUrls",possibleTypes:[]},{kind:"OBJECT",name:"User",possibleTypes:[]},{kind:"OBJECT",name:"UserPermissions",possibleTypes:[]},{kind:"OBJECT",name:"ProjectLimitations",possibleTypes:[]},{kind:"INPUT_OBJECT",name:"PostsInput",possibleTypes:[]},{kind:"INPUT_OBJECT",name:"PostsFiltersInput",possibleTypes:[]},{kind:"OBJECT",name:"Showcase",possibleTypes:[]},{kind:"OBJECT",name:"Activity",possibleTypes:[]},{kind:"OBJECT",name:"ChallengeMonth",possibleTypes:[]},{kind:"OBJECT",name:"ChallengeWeek",possibleTypes:[]},{kind:"OBJECT",name:"Mutation",possibleTypes:[]},{kind:"OBJECT",name:"AddPenToCollectionPayload",possibleTypes:[]},{kind:"INPUT_OBJECT",name:"AddPenToCollectionInput",possibleTypes:[]},{kind:"OBJECT",name:"CreateCollectionPayload",possibleTypes:[]},{kind:"INPUT_OBJECT",name:"CreateCollectionInput",possibleTypes:[]},{kind:"OBJECT",name:"FollowOwnerPayload",possibleTypes:[]},{kind:"INPUT_OBJECT",name:"FollowOwnerInput",possibleTypes:[]},{kind:"OBJECT",name:"LoveItemPayload",possibleTypes:[]},{kind:"INPUT_OBJECT",name:"LoveItemInput",possibleTypes:[]},{kind:"OBJECT",name:"SaveShowcasePayload",possibleTypes:[]},{kind:"INPUT_OBJECT",name:"SaveShowcaseInput",possibleTypes:[]},{kind:"OBJECT",name:"SwitchProfiledTeamPayload",possibleTypes:[]},{kind:"INPUT_OBJECT",name:"SwitchProfiledTeamInput",possibleTypes:[]},{kind:"OBJECT",name:"__Schema",possibleTypes:[]},{kind:"OBJECT",name:"__Type",possibleTypes:[]},{kind:"OBJECT",name:"__Field",possibleTypes:[]},{kind:"OBJECT",name:"__Directive",possibleTypes:[]},{kind:"OBJECT",name:"__EnumValue",possibleTypes:[]},{kind:"OBJECT",name:"__InputValue",possibleTypes:[]},{kind:"ENUM",name:"__TypeKind",possibleTypes:[]},{kind:"ENUM",name:"__DirectiveLocation",possibleTypes:[]}]}}},51:function(n,e,t){"use strict";t.d(e,"b",function(){return i}),t.d(e,"a",function(){return a}),t.d(e,"c",function(){return o});var r=t(16),i=function n(e){return s(a,n,e)},a=function(n){return n.replace(/_\w/g,function(n){return n[1].toUpperCase()})},o=function n(e){return s(u,n,e)},u=function(n){return n.replace(/([A-Z])/g,function(n){return"_"+n.toLowerCase()})},s=function(n,e,t){return(t=t.mapKeys(function(e){return n(e)})).withMutations(function(n){var t=n.filter(function(n){return r.Iterable.isKeyed(n)}),i=n.filter(function(n){return r.Iterable.isIndexed(n)});t.map(function(t,r){n.set(r,e(n.get(r)))}),i.map(function(t,r){n.set(r,t.map(function(n,r){return e(t.get(r))}))})})}},52:function(n,e,t){"use strict";t.d(e,"a",function(){return r});var r={ORGANIZE:"Organize",PIN:"Pin",POPUPS:"Popups",MODAL:"Modal",MESSAGE:"Message",LINK:"Link",DIALOG:"Dialog",POPUP_PROP:"PopupProp",USER:"User",FEATURE_NOTIFICATION:"FeatureNotification",CLIENT_USER:"ClientUser",ITEM_LOCAL_STATE:"ItemLocalState",ITEM_IDENTIFIER:"ItemIdentifier"}},53:function(n,e,t){"use strict";var r,i=t(145),a=t(287),o=t(253),u=t(65),s=t(232),p=t(254),c=t(38),l=t.n(c),d=t(62),f=t.n(d),m=t(11),T=t.n(m),y=t(101),g=t(12),v=t.n(g),O=t(94),P=t(163);function I(){var n=T()(["\n  query SessionUserHooksQuery {\n    sessionUser {\n      anon\n      id\n    }\n  }\n"]);return I=function(){return n},n}function b(){var n=T()(["\n  type FeatureNotification {\n    value: String!\n    showUntil: String\n  }\n\n  extend type Query {\n    featureNotifications: [String]\n  }\n\n  extend type Mutation {\n    featureNotificationsHidePinsNotification: String\n  }\n\n  extend type Mutation {\n    featureNotificationsHideNotification(id: ID!): String\n  }\n"]);return b=function(){return n},n}var h=Object(O.c)(),w=v()(b()),C=v()(I()),E={defaults:{featureNotifications:[]},queries:{},mutations:{featureNotificationsHidePinsNotification:function(){return y.a(window.__user,P.b.PINS),null},featureNotificationsHideNotification:function(n,e){var t=e.id;return y.a(window.__user,t),null}},typeDefs:w,initializeFirestore:function(){var n=f()(l.a.mark(function n(e){var t,i,a;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.query({query:C});case 2:if(t=n.sent,i=t.data,(a=i.sessionUser).hashid=a.id,a&&!a.anon){n.next=8;break}return n.abrupt("return");case 8:r=e,y.g(a,function(n){var e,t,i={featureNotifications:(e=n.featureNotifications,t=[],Object.keys(P.a).forEach(function(n){var r=P.a[n];e.includes(r.value)||h<r.showUntil&&t.push(r.value)}),t)};r.writeData({data:i})});case 10:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()};function _(){var n=T()(['\n  extend type Mutation {\n    "Makes save call to the Pen Editor"\n    itemSavePen: String\n  }\n']);return _=function(){return n},n}var S={defaults:{},queries:{},mutations:{itemSavePen:function(){return setTimeout(function(){CP.pen.save()},1),null}},typeDefs:v()(_())};function k(){var n=T()(['\n  "Item identifying information from URL"\n  type ItemIdentifier {\n    id: ID!\n    itemType: String!\n  }\n\n  extend type Query {\n    itemIdentifier: ItemIdentifier\n  }\n']);return k=function(){return n},n}var N={defaults:{itemIdentifier:null},queries:{},mutations:{},typeDefs:v()(k())},D=t(10),L=t.n(D),M=t(60),U=t(52);function R(){var n=T()(["\n  type Organize {\n    viewTypeControl: String\n    sortByControl: SortByEnum\n    sortOrderControl: SortOrderEnum\n    searchTermControl: String\n  }\n\n  input OrganizeUpdateControlsInput {\n    viewTypeControl: String\n    sortByControl: SortByEnum\n    sortOrderControl: SortOrderEnum\n    searchTermControl: String\n  }\n\n  extend type Mutation {\n    organizeUpdateControls(input: OrganizeUpdateControlsInput!): String\n  }\n\n  extend type Query {\n    organize: Organize\n  }\n"]);return R=function(){return n},n}var A,x={defaults:{organize:{__typename:U.a.ORGANIZE,viewTypeControl:M.c.PUBLIC,sortByControl:M.a.ID,sortOrderControl:M.b.DESC,searchTermControl:""}},queries:{},mutations:{organizeUpdateControls:function(n,e,t){var r=e.input,i=t.cache,a={organize:L()({__typename:U.a.ORGANIZE},r)};return i.writeData({data:a}),null}},typeDefs:v()(R())};function B(){var n=T()(["\n  input PinsAddPinInput {\n    id: ID!\n    itemType: String!\n    title: String\n  }\n\n  input PinsRemovePinInput {\n    id: ID!\n  }\n\n  type Pin {\n    id: ID!\n    itemType: String\n    title: String\n    updatedAt: String\n    url: String\n  }\n\n  extend type Query {\n    pins: [Pin]\n  }\n\n  extend type Mutation {\n    pinsAddPin(input: PinsAddPinInput!): Pin\n    pinsRemovePin(input: PinsRemovePinInput!): Pin\n  }\n"]);return B=function(){return n},n}var J=window.__user,q=v()(B()),F=function(n){return"pen"===n.itemType?"/you/pen/".concat(n.id):"post"===n.itemType?"/you/post/".concat(n.id):"project"===n.itemType?"/you/project/editor/".concat(n.id):"collection"===n.itemType?"/collection/".concat(n.id):"/you/pen/".concat(n.id)},j={defaults:{pins:[]},queries:{},mutations:{pinsAddPin:function(n,e){var t=e.input,r=t.id,i=t.itemType,a=t.title;return y.b(J,{__typename:U.a.PIN,id:r,itemType:i.toLowerCase(),title:a,updatedAt:Object(O.c)()}),{id:r,__typename:U.a.PIN}},pinsRemovePin:function(n,e){var t=e.input.id;return y.d(J,t),{id:t,__typename:U.a.PIN}}},typeDefs:q,initializeFirestore:function(n){J&&!J.anon&&(A=n,y.f(J,function(n){var e={pins:n.map(function(n){return L()({},n,{__typename:U.a.PIN,url:F(n)})})};A.writeData({data:e})}))}};function G(){var n=T()(["\n        query PopupsToggleMenuMutationPopups {\n          popups @client {\n            id\n            menu\n          }\n        }\n      "]);return G=function(){return n},n}function Q(){var n=T()(["\n        query PopupsToggleDrawerMutationPopups {\n          popups @client {\n            id\n            drawer\n          }\n        }\n      "]);return Q=function(){return n},n}function H(){var n=T()(["\n  type PopupProp {\n    name: String\n    value: String\n  }\n\n  type Modal {\n    id: ID\n    type: String\n    props: [PopupProp]\n    dismissable: Boolean\n  }\n\n  type Dialog {\n    id: ID\n    type: String\n    props: [PopupProp]\n  }\n\n  type Link {\n    url: String\n    label: String\n  }\n\n  type Message {\n    text: String\n    link: Link\n  }\n\n  type Popups {\n    id: ID\n    message: Message\n    modal: Modal\n    menu: String\n    drawer: String\n    dialog: Dialog\n  }\n\n  input PopupPropInput {\n    name: String!\n    value: String!\n  }\n\n  input PopupsOpenModalInput {\n    type: String!\n    props: [PopupPropInput]\n    dismissable: Boolean\n  }\n\n  input PopupsOpenDialogInput {\n    type: String!\n    props: [PopupPropInput]\n  }\n\n  input PopupsAddMessageLinkInput {\n    url: String\n    label: String\n  }\n\n  input PopupsAddMessageInput {\n    text: String!\n    link: PopupsAddMessageLinkInput\n  }\n\n  input PopupsDrawerInput {\n    drawer: String\n  }\n\n  input PopupsMenuInput {\n    menu: String\n  }\n\n  extend type Query {\n    popups: Popups\n  }\n  # Fun fact - GraphQL doesn't have a void type, so all local mutations\n  # need to have a return type even though in reality they return null\n  extend type Mutation {\n    popupsOpenModal(input: PopupsOpenModalInput!): String\n    popupsOpenDialog(input: PopupsOpenDialogInput!): String\n    popupsCloseModalAndDialog: String\n    popupsCloseDialog: String\n    popupsAddMessage(input: PopupsAddMessageInput!): String\n    popupsClearMessage: String\n    popupsOpenDrawer(input: PopupsDrawerInput!): String\n    popupsCloseDrawer: String\n    popupsToggleDrawer(input: PopupsDrawerInput!): String\n    popupsCloseMenu: String\n    popupsToggleMenu(input: PopupsMenuInput!): String\n  }\n"]);return H=function(){return n},n}var z={__typename:U.a.POPUPS,id:"popups"},V={defaults:{popups:{__typename:U.a.POPUPS,id:"popups",message:null,modal:null,menu:null,drawer:null,dialog:null}},queries:{},mutations:{popupsOpenModal:function(n,e,t){var r=e.input,i=r.type,a=r.props,o=r.dismissable,u=t.cache,s={popups:L()({},z,{modal:{id:"modal",__typename:U.a.MODAL,type:i,props:a||null,dismissable:!(!1===o)}})};return u.writeData({data:s}),null},popupsOpenDialog:function(n,e,t){var r=e.input,i=r.type,a=r.props,o=t.cache,u={popups:L()({},z,{dialog:{id:"dialog",__typename:U.a.DIALOG,type:i,props:a||null}})};return o.writeData({data:u}),null},popupsCloseModalAndDialog:function(n,e,t){var r=t.cache,i={popups:L()({},z,{modal:null,dialog:null})};return r.writeData({data:i}),null},popupsCloseDialog:function(n,e,t){var r=t.cache,i={popups:L()({},z,{dialog:null})};return r.writeData({data:i}),null},popupsAddMessage:function(n,e,t){var r=e.input,i=t.cache,a={popups:L()({},z,{message:L()({},r,{__typename:U.a.MESSAGE})})};return r.link?a.popups.message.link=L()({},a.popups.message.link,{__typename:U.a.LINK}):a.popups.message.link=null,i.writeData({data:a}),null},popupsClearMessage:function(n,e,t){var r=t.cache,i={popups:L()({},z,{message:null})};return r.writeData({data:i}),null},popupsOpenDrawer:function(n,e,t){var r=e.input.drawer;return t.cache.writeData({data:{popups:{__typename:U.a.POPUPS,id:"popups",drawer:r}}}),null},popupsCloseDrawer:function(n,e,t){return t.cache.writeData({data:{popups:{__typename:U.a.POPUPS,id:"popups",drawer:null}}}),null},popupsToggleDrawer:function(n,e,t){var r=e.input.drawer,i=t.cache,a=i.readQuery({query:v()(Q())}).popups.drawer===r;return i.writeData({data:{popups:{__typename:U.a.POPUPS,id:"popups",drawer:a?null:r}}}),null},popupsCloseMenu:function(n,e,t){return t.cache.writeData({data:{popups:{__typename:U.a.POPUPS,id:"popups",menu:null}}}),null},popupsToggleMenu:function(n,e,t){var r=e.input.menu,i=t.cache,a=i.readQuery({query:v()(G())}).popups.menu===r;return i.writeData({data:{popups:{__typename:U.a.POPUPS,id:"popups",menu:a?null:r}}}),null}},typeDefs:v()(H())},K=t(43),Y=t(21);function W(){var n=T()(["\n      fragment privacy on Pen {\n        private\n        __typename\n      }\n    "]);return W=function(){return n},n}function Z(){var n=T()(["\n      query Item {\n        itemIdentifier @client {\n          id\n        }\n      }\n    "]);return Z=function(){return n},n}function X(){var n=T()(['\n  "Item state that exists in the Editor but hasn\'t been saved yet"\n  type ItemLocalState {\n    title: String\n  }\n\n  input LocalStateObjectInput {\n    title: String\n  }\n\n  input ItemLocalStateUpdateStateInput {\n    itemType: ItemEnum!\n    state: LocalStateObjectInput!\n  }\n\n  extend type Mutation {\n    "Syncs local state back to the Item\'s Editor data stores"\n    itemLocalStateUpdateState(input: ItemLocalStateUpdateStateInput!): String\n  }\n\n  extend type Query {\n    itemLocalState: ItemLocalState\n  }\n']);return X=function(){return n},n}var $={itemLocalState:{__typename:U.a.ITEM_LOCAL_STATE,title:null}},nn=v()(X()),en=function(n){window.Hub&&(Hub.sub("pen-change",function(e,t){return rn(t,n)}),Hub.sub("pen-saved",function(e,t){return on(t,n)}))},tn=function(n){window.Hub&&Hub.sub("project-change",function(e,t){return rn(t,n)})},rn=function(n,e){var t=an(n);0!==Object.keys(t).length&&e.writeData({data:{itemLocalState:L()({__typename:U.a.ITEM_LOCAL_STATE},t)}})},an=function(n){return n.item?Object.keys($.itemLocalState).reduce(function(e,t){return void 0!==n.item[t]&&(e[t]=n.item[t]),e},{}):{}},on=function(n,e){var t=e.readQuery({query:v()(Z())}).itemIdentifier,r=e.readFragment({id:"Pen:".concat(t.id),fragment:v()(W())});if(n.pen&&n.pen.private&&n.pen.private.current!==r.private){var i=!0===n.pen.private.current?CP.item.slug_hash_private:CP.item.slug_hash,a=window.location.pathname.replace(t.id,i);Object(K.d)(a)}},un={defaults:$,queries:{},mutations:{itemLocalStateUpdateState:function(n,e){var t=e.input,r=t.state,i=t.itemType;return i===Y.a.PEN&&CP.item.setItemValue({origin:"client",item:r}),i===Y.a.PROJECT&&window.projectStore.dispatch({type:"UPDATE_PROJECT",payload:{newSettings:r}}),null}},typeDefs:nn,subscribeToItemEvents:function(n){en(n),tn(n)}},sn=[E,S,N,un,x,j,V],pn=function(n,e){var t=[{}].concat(e.map(function(e){return e[n]}));return Object.assign.apply(null,t)},cn=pn("defaults",sn),ln={Query:pn("queries",sn),Mutation:pn("mutations",sn)},dn=sn.map(function(n){return n.typeDefs}).filter(function(n){return void 0!==n});t.d(e,"a",function(){return Tn});var fn=Object(o.a)(function(n){var e=n.graphQLErrors,t=n.networkError;if(console.log(JSON.stringify(e,null,4)),e){if(e.error)return console.log("[GraphQL error]: ".concat(e.error));e.map(function(n){var e=n.message,t=n.locations,r=n.fields,i=n.path;console.log(t),console.log("[GraphQL error]: Message: ".concat(e,", Location: ").concat(t[0],", Fields: ").concat(r,", Path: ").concat(i))})}t&&console.log("[Network error]: ".concat(t))}),mn=new a.a({credentials:"same-origin",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"X-Requested-With":"XMLHttpRequest"},uri:"/graphql",batchInterval:20}),Tn=function(){if(window.__apolloClient)return window.__graphql&&window.__apolloClient.writeData(window.__graphql),window.__apolloClient;var n,e=new s.b({introspectionQueryResultData:p}),t=new s.a({fragmentMatcher:e}),r=new i.a({link:u.a.from([fn,mn]),cache:t,typeDefs:dn,resolvers:ln});return window.__apolloClient=r,r.writeData({data:cn}),window.__graphql&&r.writeData(window.__graphql),n=r,E.initializeFirestore(n),j.initializeFirestore(n),function(n){un.subscribeToItemEvents(n)}(r),r}()},54:function(n,e,t){"use strict";var r=t(0),i=t.n(r),a=(t(2),t(1)),o=t.n(a),u=t(46),s=t(188),p=function(n){var e=n.children,t=n.client;return i()(u.b,{client:t},void 0,i()(s.a,{client:t},void 0,e))};p.propTypes={children:o.a.oneOfType([o.a.node,o.a.object,o.a.func]),client:o.a.object.isRequired},e.a=p},56:function(n,e,t){"use strict";(function(n){t.d(e,"a",function(){return l}),t.d(e,"b",function(){return d});var r,i=t(38),a=t.n(i),o=t(62),u=t.n(o),s="production"!==n.env.ENV,p="test"!==n.env.ENV,c=function(){var e=u()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=2;break}return e.abrupt("return");case 2:if(!r){e.next=4;break}return e.abrupt("return",r);case 4:return e.next=6,t.e(18).then(t.t.bind(null,1436,7));case 6:(r=e.sent).configure({apiKey:"32c374f5",environment:n.env.ENV,revision:n.env.CI_COMMIT_SHA});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),l=function(){var n=u()(a.a.mark(function n(e){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!s){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,c();case 4:r.setContext(e);case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=u()(a.a.mark(function n(e){var t,i=arguments;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=i.length>1&&void 0!==i[1]?i[1]:{},!s){n.next=4;break}return p&&console.error({error:e,data:t}),n.abrupt("return");case 4:return n.next=6,c();case 6:r.notify(e,t);case 7:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();s||c()}).call(this,t(70))},59:function(n,e,t){"use strict";t.d(e,"a",function(){return r});var r={PROJECT_LIMIT:"PROJECT_LIMIT",LOG_IN_TO_CREATE_PROJECTS:"LOG_IN_TO_CREATE_PROJECTS",LOG_IN_TO_CREATE_POSTS:"LOG_IN_TO_CREATE_POSTS",LOG_IN_TO_CREATE_COLLECTION:"LOG_IN_TO_CREATE_COLLECTION",CONFIRM_LOGOUT:"CONFIRM_LOGOUT",QUERY_ERROR:"QUERY_ERROR",MUTATION_ERROR:"MUTATION_ERROR"}},60:function(n,e,t){"use strict";t.d(e,"c",function(){return r}),t.d(e,"a",function(){return i}),t.d(e,"b",function(){return a});var r={PUBLIC:"PUBLIC",POPULAR:"POPULAR",TAG:"TAG",SEARCH:"SEARCH"},i={ID:"ID",POPULARITY:"POPULARITY"},a={ASC:"ASC",DESC:"DESC"}},75:function(n,e,t){"use strict";var r=t(3),i=t.n(r),a=t(4),o=t.n(a),u=t(6),s=t.n(u),p=t(5),c=t.n(p),l=t(7),d=t.n(l),f=t(8),m=t.n(f),T=t(2),y=t(1),g=t.n(y),v=t(59),O=function(n){function e(){return i()(this,e),s()(this,c()(e).apply(this,arguments))}return d()(e,n),o()(e,[{key:"componentDidMount",value:function(){this.props.openModal({variables:{input:{type:v.a["".concat(this.props.type,"_ERROR")]}}})}},{key:"render",value:function(){return null}}]),e}(T.Component);m()(O,"propTypes",{openModal:g.a.func.isRequired,type:g.a.oneOf(["QUERY","MUTATION"]).isRequired}),e.a=O},94:function(n,e,t){"use strict";t.d(e,"c",function(){return i}),t.d(e,"a",function(){return a}),t.d(e,"b",function(){return o});var r=function(n){return Math.floor(n/1e3)},i=function(){return r(Date.now())},a=function(n,e,t){if(!/\d\d\d\d/.test(n+"")||e>12||t>31)throw"Invalid date ".concat(n,", ").concat(e,", ").concat(t);return r(new Date("".concat(n,".").concat(e,".").concat(t)).getTime())},o=function(n){return Math.floor((i()-n)/60/60/24)}}}]);
//# sourceMappingURL=1-476b092ee879d2be3090.chunk.js.map